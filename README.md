# Multilingual RAG Chatbot

This project is a **Retrieval-Augmented Generation (RAG) chatbot** for customer call transcripts in Hindi, Tamil, Telugu, and Malayalam.  
It supports semantic search and question-answering using a FastAPI backend.

## ğŸ“ Project Structure

```
rag_chatbot/
â”œâ”€â”€ data/                      # Place your .jsonl transcript files here
â”œâ”€â”€ data_loader.py             # Loads and chunks transcript data
â”œâ”€â”€ docker_compose.yml         # (Optional) For Docker/Redis
â”œâ”€â”€ embedding_service.py       # Embedding and FAISS indexing
â”œâ”€â”€ main.py                    # FastAPI application (run this to start API)
â”œâ”€â”€ rag_system.py              # RAG chatbot logic (retrieval + generation)
â”œâ”€â”€ requirements.txt           # All Python dependencies
â”œâ”€â”€ test_client.py             # Script to test API endpoints
â”œâ”€â”€ test_data_loader.py        # Script to test data loading
â”œâ”€â”€ vector_index_docs.pkl      # (autogenerated) Document metadata for FAISS
â”œâ”€â”€ vector_index.index         # (autogenerated) FAISS vector index
```

## ğŸš€ Quick Start

### 1. **Install Dependencies**

```bash
pip install -r requirements.txt
```

### 2. **Prepare Your Data**

- Place your `.jsonl` transcript files (e.g., `hindi.jsonl`, `tamil.jsonl`, etc.) in the `data/` directory.
- Each line should look like:
  ```json
  {"id": "1", "language": "hindi", "transcript": "à¤—à¥à¤°à¤¾à¤¹à¤• à¤¨à¥‡ à¤¸à¤¬à¥à¤¸à¤•à¥à¤°à¤¿à¤ªà¥à¤¶à¤¨ à¤°à¤¦à¥à¤¦ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤•à¥‰à¤² à¤•à¤¿à¤¯à¤¾ à¤¥à¤¾"}
  ```

### 3. **Build the Vector Index**

```bash
python3 embedding_service.py
```
- This reads your data, creates embeddings, and builds `vector_index.index` and `vector_index_docs.pkl`.

### 4. **(Optional) Test Data Loading**

```bash
python3 test_data_loader.py
```

### 5. **(Optional) Test the RAG System**

```bash
python3 rag_system.py
```

### 6. **Start the FastAPI Server**

```bash
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```
- The API will be available at `http://localhost:8000`

### 7. **Test the API**

```bash
python3 test_client.py
```

### 8. **Try the Interactive API Docs**

- Open your browser and visit:  
  [http://localhost:8000/docs](http://localhost:8000/docs)

## ğŸ§ª Example API Usage

**Semantic Search**
```bash
curl "http://localhost:8000/search?q=à¤¸à¤¬à¥à¤¸à¤•à¥à¤°à¤¿à¤ªà¥à¤¶à¤¨&lang=hindi"
```

**Ask a Question (RAG)**
```bash
curl "http://localhost:8000/ask?q=à¤¸à¤¬à¥à¤¸à¤•à¥à¤°à¤¿à¤ªà¥à¤¶à¤¨ à¤°à¤¦à¥à¤¦ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚ à¤¬à¤¤à¤¾à¤à¤‚&lang=hindi"
```

**Health Check**
```bash
curl "http://localhost:8000/health"
```

## âš¡ï¸ Troubleshooting

- **Index not found?**  
  Run `python3 embedding_service.py` again.
- **Model download slow?**  
  Be patient; first run downloads large models.
- **PyTorch/Transformers version error?**  
  Use the versions in `requirements.txt` for best compatibility.
