# Multilingual RAG Chatbot

This project is a **Retrieval-Augmented Generation (RAG) chatbot** for customer call transcripts in Hindi, Tamil, Telugu, and Malayalam.  
It supports semantic search and question-answering using a FastAPI backend.

## 📁 Project Structure

```
rag_chatbot/
├── data/                      # Place your .jsonl transcript files here
├── data_loader.py             # Loads and chunks transcript data
├── docker_compose.yml         # (Optional) For Docker/Redis
├── embedding_service.py       # Embedding and FAISS indexing
├── main.py                    # FastAPI application (run this to start API)
├── rag_system.py              # RAG chatbot logic (retrieval + generation)
├── requirements.txt           # All Python dependencies
├── test_client.py             # Script to test API endpoints
├── test_data_loader.py        # Script to test data loading
├── vector_index_docs.pkl      # (autogenerated) Document metadata for FAISS
├── vector_index.index         # (autogenerated) FAISS vector index
```

## 🚀 Quick Start

### 1. **Install Dependencies**

```bash
pip install -r requirements.txt
```

### 2. **Prepare Your Data**

- Place your `.jsonl` transcript files (e.g., `hindi.jsonl`, `tamil.jsonl`, etc.) in the `data/` directory.
- Each line should look like:
  ```json
  {"id": "1", "language": "hindi", "transcript": "ग्राहक ने सब्सक्रिप्शन रद्द करने के लिए कॉल किया था"}
  ```

### 3. **Build the Vector Index**

```bash
python3 embedding_service.py
```
- This reads your data, creates embeddings, and builds `vector_index.index` and `vector_index_docs.pkl`.

### 4. **(Optional) Test Data Loading**

```bash
python3 test_data_loader.py
```

### 5. **(Optional) Test the RAG System**

```bash
python3 rag_system.py
```

### 6. **Start the FastAPI Server**

```bash
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```
- The API will be available at `http://localhost:8000`

### 7. **Test the API**

```bash
python3 test_client.py
```

### 8. **Try the Interactive API Docs**

- Open your browser and visit:  
  [http://localhost:8000/docs](http://localhost:8000/docs)

## 🧪 Example API Usage

**Semantic Search**
```bash
curl "http://localhost:8000/search?q=सब्सक्रिप्शन&lang=hindi"
```

**Ask a Question (RAG)**
```bash
curl "http://localhost:8000/ask?q=सब्सक्रिप्शन रद्द करने के बारे में बताएं&lang=hindi"
```

**Health Check**
```bash
curl "http://localhost:8000/health"
```

## ⚡️ Troubleshooting

- **Index not found?**  
  Run `python3 embedding_service.py` again.
- **Model download slow?**  
  Be patient; first run downloads large models.
- **PyTorch/Transformers version error?**  
  Use the versions in `requirements.txt` for best compatibility.
